<!doctype html><html><head><title>OWASP 十大网站安全风险 （三）：敏感信息泄漏</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/style.css><link rel=stylesheet href=/css/navigators/navbar.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><link rel=icon type=image/png href=/images/site/favicon_hu8376fd15465fef26ffe66b6bcf0ca686_13669_42x0_resize_box_2.png><link rel=stylesheet href=/css/style.css><meta name=description content="OWASP 十大网站安全风险 （三）：敏感信息泄漏"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-123-45','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/main-logo_hu864bbe108f1be1ae04b57f7f2fd9d631_5637_42x0_resize_box_2.png>Shubo Zhang</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div><img src=/images/site/main-logo_hu864bbe108f1be1ae04b57f7f2fd9d631_5637_42x0_resize_box_2.png class=d-none id=main-logo>
<img src=/images/site/inverted-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_42x0_resize_box_2.png class=d-none id=inverted-logo></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><input type=text placeholder=Search data-search id=search-box><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><i class="fas fa-plus-circle"></i><a href=/posts/aws/>AWS</a><ul><li><a href=/posts/aws/dynamodb-acid/>dynamodb-acid</a></li><li><a href=/posts/aws/dynamodb-admin/>dynamodb-admin</a></li><li><a href=/posts/aws/3-ways-to-log-s3/>S3-log</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/db/>DB</a><ul><li><a href=/posts/db/mysql-count/>How to Use MySQL count</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/micronaut/>micronaut</a><ul><li><a href=/posts/micronaut/mn-graalvm/>mn-graalvm</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/software-design-and-engineering/>Software Design and Engineering</a><ul><li><i class="fas fa-plus-circle"></i><a href=/posts/software-design-and-engineering/clean-code/>Clean Code</a><ul><li><a href=/posts/software-design-and-engineering/clean-code/meaningful-names/>Meaningful Names</a></li></ul></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/tools/>Tools</a><ul class=active><li><a href=/posts/tools/mac-itsycal/>mac-itsycal</a></li><li><a href=/posts/tools/mac-stats/>mac-stats</a></li><li><a href=/posts/tools/mac-world-time/>mac-world-time</a></li><li><a href=/posts/tools/owasp-cn-01/>owasp-1-sql-injection</a></li><li><a href=/posts/tools/owasp-cn-02/>owasp-2-broken-authentication</a></li><li><a class=active href=/posts/tools/owasp-cn-03/>owasp-3-sensitive-data-exposure</a></li><li><a href=/posts/tools/pg12/>Postgres 12 + pgadmin in Docker</a></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://shubozhang.github.io/images/default-hero.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/site/shubo_zhang.jpg><h5 class=author-name>Shubo Zhang</h5><p>April 14, 2021</p></div><div class=title><h1>OWASP 十大网站安全风险 （三）：敏感信息泄漏</h1></div><div class=post-content id=post-content><h2 id=owasp-十大信息安全主题>OWASP 十大信息安全主题</h2><blockquote><ol><li>注入攻击 （Injection）</li><li>无效身份认证（Broken Authentication</li><li><strong>敏感信息泄漏（Sensitive Data Exposure）</strong></li><li>XML外部处理器漏洞（XML External Entities (XXE)）</li><li>无效存取控管（Broken Access Control）</li><li>错误设置安全系统（Security Misconfiguration）</li><li>跨站攻击（Cross-Site Scripting (XSS)）</li><li>不安全的反序列化漏洞（Insecure Deserialization）</li><li>使用已有漏洞元件（Using Components with Known Vulnerabilities）</li><li>日志和监控不足风险（Insufficient Logging and Monitoring）</li></ol></blockquote><h2 id=敏感信息泄漏>敏感信息泄漏</h2><p>Many web applications and APIs do not properly protect sensitive data, such as financial, healthcare,
and PII. Attackers may steal or modify such weakly protected data to conduct credit card fraud, identity
theft, or other crimes. Sensitive data may be compromised without extra protection, such as
encryption at rest or in transit, and requires special precautions when exchanged with the browser.</p><h2 id=了解敏感信息泄漏>了解敏感信息泄漏</h2><p>Sensitive data pii personally identifiable information, PHI personal health information and an entire gamut of proprietary data</p><p>must be protected in all applications.</p><p>What do you need to know?</p><p>Consider who can gain access to your sensitive data, and any backups of that data. This includes the data at rest,
in transit, and even in your customers browsers. Include both external and internal threats.</p><p>Rather than directly attacking crypto, attackers steel keys execute man-in-the-middle attacks or steel clear text data
off the server while in transit or from the users client, like a browser.</p><p>A manual attack is generally required. Previously retrieved password database, this could be forced by graphics processing units, gpus.</p><p>Over the last few years, this has been the most common impactful attack.</p><p>The most common flaw is simply not encrypting sensitive data. When crypto is employed, week key generation and management,
as well as weak algorithm, protocol ,and cyber usage is common, particularly for weak password hashing storage techniques.</p><p>For data in transit, server side weaknesses are mainly easy to detect, but hard for data at rest.</p><p>Failure frequently compromises all data that should have been protected. Typically, this information, including sensitive
personally identifiable information data (PPI), such as health records, credentials, personal data, and credit cards,
which often require protection as defined by laws or regulations, such as the EU GDPR or local privacy laws.</p><p>Consider the business value of the lost data and the impact or possible damage to your reputation.</p><p>What is your legal liability that this data is exposed?</p><p>The first thing you have to determine is which data is sensitive enough to require extra protection both in transit and at rest.</p><p>For examples, passwords, credit card numbers, health records, personal information, and business secrets require extra protection.</p><p>Particularly if that data falls under privacy laws or regulations, like EU&rsquo;s general data protection regulation gdpr, or
regulations for financial data protection, such as pci data security standard (pci DSS).</p><p>For all such data, is any data transmitted in clear text, this concerns protocols, such as http, SMTP, and ftp.</p><p>External internet traffic is especially dangerous, verifying all internal traffic between load balancers, web servers or back end systems.</p><p>Is sensitive data stored in clear text, including backups?
Are any old or weak cryptographic algorithms use either by default or in older code?</p><p>Are default crypto keys in use, weak crypto keys generated or re-used, or is proper key management for rotation missing?</p><p>Is encryption not enforced? Are any user agent browser security directives or headers missing?</p><p>Does user agent(like app, mail client) not verify if the received server certificate is valid?</p><p>Is the data included as plain text and application or server logs?</p><h2 id=案例>案例</h2><h5 id=scenario-one>scenario one</h5><p>An application encrypts credit card numbers in a database using automatic database encryption. However, this data is
automatically decrypted when retrieved allowing a sequel injection flaw can retrieve credit card numbers in clear text.</p><h5 id=scenario-two>scenario two</h5><p>the site doesn&rsquo;t use or enforce TLS for all pages or supports weak encryption. An attacker monitors network
traffic(as at an insecure wireless network) downgrades connections from https to http, intercepts requests,
and steals the users&rsquo; session cookie.</p><p>The attacker then replays this cookie and hijacks the users authenticated session, accessing or modifying the users&rsquo; private data.
Instead of above, they could alter all transported data, like the recipient of a money transfer</p><h5 id=scenario-three>scenario three.</h5><p>The password database and uses unsalted or simple hashes to store everyone&rsquo;s passwords. A file upload flaw allows an attacker to
retrieve the password database. All the unsalted hashes can be exposed with the Rainbow table
of pre-calculated hashes. Hashes generated by simple or fast hash functions may be crackered by GPUs, even if they were
salted.</p><h2 id=预防>预防</h2><p>all sensitive data to all of the following and then.</p><ol><li><p>classify data processed, stored, or transmitted by an application. Identify which data is sensitive according to privacy
laws, regulatory requirements, or business needs.</p></li><li><p>Apply controls as proposed application.
Don&rsquo;t store sensitive data unnecessarily. Discard it as soon as possible or use
PCI DSS compliant tokenization or even truncation. Data that is not retained cannot be stolen.</p></li><li><p>Make sure to encrypt all sensitive data at rest. Ensure up-to-date and strong standard algorithms, protocols, and keys are
in place; use property key management.</p></li><li><p>Encrypt all data in transit with secure protocols, such as TLS with perfect forward secrecy(PFS) ciphers, cipher prioritization
by server, and secure parameters. Enforce encryption using directives like http strict transport security(HSTS).</p></li><li><p>disable caching for responses that contain sensitive data.<br>Store passwords using a strong adaptive and salted hashing function with a work factor(delay factor), such as Argon2, scrypt,
bcrypt, or PBKDF2.</p></li><li><p>Verify independently the effectiveness of configuration and settings.</p></li></ol></div><div class=btn-improve-page><a href=https://github.com/shubozhang/shubozhang.github.io/edit/source/content/posts/tools/owasp-cn-03.md><i class="fas fa-code-branch"></i>Improve this page</a></div><hr><div class="row next-prev-navigator"><div class="col-md-12 next-article"><a href=/posts/tools/owasp-cn-02/ class="btn btn-outline-info"><span>Next <i class="fas fa-chevron-circle-right"></i></span><br><span>OWASP 十大网站安全风险 （二）：无效身份认证</span></a></div></div><hr><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;var disqus_shortname="shubozhang";dsq.src="//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#owasp-十大信息安全主题>OWASP 十大信息安全主题</a></li><li><a href=#敏感信息泄漏>敏感信息泄漏</a></li><li><a href=#了解敏感信息泄漏>了解敏感信息泄漏</a></li><li><a href=#案例>案例</a><ul><li><ul><li><ul><li><a href=#scenario-one>scenario one</a></li><li><a href=#scenario-two>scenario two</a></li><li><a href=#scenario-three>scenario three.</a></li></ul></li></ul></li></ul></li><li><a href=#预防>预防</a></li></ul></nav></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=#about>About Me</a></li><li class=nav-item><a class=smooth-scroll href=#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=#experiences>Experiences</a></li><li class=nav-item><a class=smooth-scroll href=#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=#achievements>Achievements</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><span>Email:</span> <span>shubozhang@outlook.com</span></li><li><span>Phone:</span> <span>+0123456789</span></li></ul></div><div class="col-md-4 col-sm-12"><p>Stay up to date with email notification</p><form><div class=form-group><input type=email class=form-control id=exampleInputEmail1 aria-describedby=emailHelp placeholder="Enter email">
<small id=emailHelp class="form-text text-muted">We'll never share your email with anyone else.</small></div><button type=submit class="btn btn-info">Submit</button></form></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hossainemruz/toha target=#><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_2.png>
Toha</a></div><div class="col-md-4 text-center">© 2020 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/js/jquery-3.4.1.min.js></script><script src=/js/popper.min.js></script><script src=/js/bootstrap.min.js></script><script src=/js/navbar.js></script><script src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/js/single.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>